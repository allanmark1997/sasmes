import{T as y,r as c,d as p,b as l,w as n,F as k,o as _,a as s,f as a,t as w,p as j,e as L,g as z,k as C,v as D,u as t,n as S,q as G,s as V}from"./app-CYZx_0i1.js";import{_ as K}from"./AppLayout-CRW31am-.js";import W from"./ServiceLists-CZJV8RVi.js";import{_ as g}from"./PrimaryButton-3S34IdA1.js";import{_ as $}from"./DialogModal-MsDKKgVq.js";import{_ as I}from"./SecondaryButton-BHdzxutz.js";import{_ as x}from"./Input-BEyv6KdA.js";import{_ as b}from"./InputError-R-cHFKqf.js";import{_ as q}from"./Icon-DBOHQbUj.js";import{i as v}from"./index-D8CVQ-Tr.js";import"./sasmes_logo-C-K0o8NT.js";import"./sasmes_text-TaE2kHS7.js";import"./ConfirmationModal-7r3IXbjL.js";import"./moment-C5S46NFB.js";const E={class:"font-semibold text-lg text-white leading-tight"},J=["href"],Q=["href"],X={class:"py-4"},Y={class:"flex justify-between"},Z={class:"flex gap-2 ml-8"},ee={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},se={class:"overflow-hidden"},le={class:"grid grid-cols-12 gap-1 border p-1 mt-1 rounded-lg border-gray-300 h-[20vmin] overflow-y-auto"},oe=["value"],te={for:"bordered-checkbox-1",class:"w-full py-1 ms-2 text-sm font-medium text-gray-700"},ie={class:"col-span-full"},re={class:"col-span-full"},ne={class:"col-span-full"},ae={class:"col-span-full"},ke={__name:"Index",props:["unit_services","unit","search","office_id","office","services","unit_id","service","clients"],setup(N){const r=N,d=y({office_id:r.office_id,unit_id:r.unit_id,selected:[]}),i=y({fname:null,mname:null,lname:null,sex:null}),u=c(!1),m=c(!1);c(""),c("");const T=c([]),O=c([]),f=c(r.search),F=()=>{d.reset(),u.value=!u.value},R=()=>{i.reset(),T.value=[],O.value=[],m.value=!m.value},M=()=>{d.post(route("unit_service.store"),{preserveScroll:!0,onSuccess:()=>{d.reset(),v.success("Service has been successfully added!",{autoClose:1e3,transition:v.TRANSITIONS.FLIP,position:v.POSITION.TOP_RIGHT}),d.reset(),u.value=!u.value}})},P=()=>{i.post(route("client.store"),{preserveScroll:!0,onSuccess:()=>{i.reset(),v.success("Client has been successfully registered!",{autoClose:1e3,transition:v.TRANSITIONS.FLIP,position:v.POSITION.TOP_RIGHT}),i.reset(),m.value=!m.value}})},U=()=>{V.get(route("unit_service.index",{search:f.value,office_id:r.office.id,unit_id:r.unit_id}))},B=()=>{f.value="",V.get(route("unit_service.index",{search:f.value,office_id:r.office.id,unit_id:r.unit_id}))};return(h,e)=>(_(),p(k,null,[l(K,{title:"Services"},{header:n(()=>[s("h2",E,[s("a",{class:"hover:underline",href:h.route("office.index")},"Offices",8,J),e[12]||(e[12]=a(" > ")),s("a",{class:"hover:underline",href:h.route("unit.index",{office_id:r.office.id})},w(r.office.name),9,Q),a(" > "+w(r.unit.name)+" > Services ",1)])]),default:n(()=>[s("div",X,[s("div",Y,[s("div",Z,[l(x,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search Service",onKeyup:j(U,["enter"])},null,8,["modelValue"]),f.value?(_(),p("button",{key:0,class:"h-10 my-auto mt-5",onClick:B},[l(q,{icon:"close_icon",size:"sm"})])):L("",!0)]),s("div",null,[l(g,{onClick:e[1]||(e[1]=o=>F()),class:"mb-2 mr-2 h-10 mt-5"},{default:n(()=>e[13]||(e[13]=[a(" Add Service ")])),_:1}),l(g,{onClick:e[2]||(e[2]=o=>R()),class:"mb-2 mr-12 h-10 mt-5"},{default:n(()=>e[14]||(e[14]=[a(" Register Client ")])),_:1})])]),s("div",ee,[s("div",se,[l(W,{unit_services:r.unit_services,search:r.search,office_id:r.office_id,unit_id:r.unit_id,clients:r.clients},null,8,["unit_services","search","office_id","unit_id","clients"])])])])]),_:1}),l($,{show:u.value,onClose:e[5]||(e[5]=o=>u.value=!1),maxWidth:"2xl"},{title:n(()=>e[15]||(e[15]=[a("Add Service here!")])),content:n(()=>[s("div",le,[(_(!0),p(k,null,z(r.services,(o,A)=>(_(),p("div",{key:A,class:"col-span-4 flex items-center ps-4 border border-gray-200 rounded"},[C(s("input",{id:"bordered-checkbox-1",type:"checkbox",value:o.id,"onUpdate:modelValue":e[3]||(e[3]=H=>t(d).selected=H),name:"bordered-checkbox",class:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500"},null,8,oe),[[D,t(d).selected]]),s("label",te,w(o.name),1)]))),128))]),s("div",null,[l(b,{message:t(d).errors.services,class:"mt-2"},null,8,["message"])])]),footer:n(()=>[l(I,{onClick:e[4]||(e[4]=o=>u.value=!1),class:"mr-2 hover:bg-red-500"},{default:n(()=>e[16]||(e[16]=[a(" Cancel ")])),_:1}),l(g,{class:S([{"opacity-25":t(d).processing},"hover:bg-green-300"]),disabled:t(d).processing,onClick:M},{default:n(()=>e[17]||(e[17]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),a(" Submit ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),l($,{show:m.value,onClose:e[11]||(e[11]=o=>m.value=!1),maxWidth:"2xl"},{title:n(()=>e[18]||(e[18]=[a("Register New Client here!")])),content:n(()=>[s("div",ie,[l(x,{type:"text",label:"Client First Name",modelValue:t(i).fname,"onUpdate:modelValue":e[6]||(e[6]=o=>t(i).fname=o)},null,8,["modelValue"]),l(b,{message:t(i).errors.fname,class:"mt-2"},null,8,["message"])]),s("div",re,[l(x,{type:"text",label:"Client Middle Name",modelValue:t(i).mname,"onUpdate:modelValue":e[7]||(e[7]=o=>t(i).mname=o)},null,8,["modelValue"])]),s("div",ne,[l(x,{type:"text",label:"Client Surname",modelValue:t(i).lname,"onUpdate:modelValue":e[8]||(e[8]=o=>t(i).lname=o)},null,8,["modelValue"]),l(b,{message:t(i).errors.lname,class:"mt-2"},null,8,["message"])]),s("div",ae,[C(s("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[9]||(e[9]=o=>t(i).sex=o)},e[19]||(e[19]=[s("option",{value:null,disabled:""},"Select Client Sex",-1),s("option",{value:"male"},"Male",-1),s("option",{value:"female"},"Female",-1)]),512),[[G,t(i).sex]]),l(b,{message:t(i).errors.sex,class:"mt-2"},null,8,["message"])])]),footer:n(()=>[l(I,{onClick:e[10]||(e[10]=o=>m.value=!1),class:"mr-2 hover:bg-red-500"},{default:n(()=>e[20]||(e[20]=[a(" Cancel ")])),_:1}),l(g,{class:S([{"opacity-25":t(i).processing},"hover:bg-green-300"]),disabled:t(i).processing,onClick:P},{default:n(()=>e[21]||(e[21]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),a(" Register ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{ke as default};
