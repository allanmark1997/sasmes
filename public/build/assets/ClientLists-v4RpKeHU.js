import{T as F,r as w,d,a as t,F as C,g as I,b as n,t as i,w as r,o as u,e as U,f as c,u as o,k as B,q as D,n as O}from"./app-CYZx_0i1.js";import{_ as k}from"./Icon-DBOHQbUj.js";import{_ as Y}from"./PrimaryButton-3S34IdA1.js";import{_ as $}from"./DialogModal-MsDKKgVq.js";import{_ as V}from"./SecondaryButton-BHdzxutz.js";import{_ as x}from"./Input-BEyv6KdA.js";import{_}from"./InputError-R-cHFKqf.js";import{_ as L,i as y}from"./index-D8CVQ-Tr.js";import{h as P}from"./moment-C5S46NFB.js";const j={key:0},A={key:1,class:"relative overflow-x-auto overflow-y-auto rounded-lg"},G={class:"w-full text-sm text-left rtl:text-right text-gray-700"},H={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap flex"},R={class:"px-6 py-4"},W={class:"px-6 py-4"},q={class:"px-6 py-4"},z=["onClick"],E=["onClick"],J={class:"flex items-center justify-between bottom-1 fixed"},K={class:"mt-6 text-sm text-gray-500"},Q={class:"col-span-full"},X={class:"col-span-full"},Z={class:"col-span-full"},ee={class:"col-span-full"},de={__name:"ClientLists",props:["clients","search"],setup(f){const h=f,s=F({fname:null,mname:null,lname:null,sex:null}),m=w(!1),p=w(!1),N=a=>{s.reset(),s.client=a,s.fname=a.fname,s.mname=a.mname,s.lname=a.lname,s.sex=a.sex,m.value=!m.value},S=()=>{s.post(route("client.update",{client:s.client}),{preserveScroll:!0,onSuccess:()=>{s.reset(),y.success("Client has been successfully updated!",{autoClose:1e3,transition:y.TRANSITIONS.FLIP,position:y.POSITION.TOP_RIGHT}),s.reset(),m.value=!m.value}})},M=a=>{s.client=a,p.value=!p.value},T=a=>P(a).format("MMMM Do YYYY, h:mm:ss a");return(a,e)=>(u(),d(C,null,[f.clients.data.length==0?(u(),d("div",j,e[8]||(e[8]=[t("p",{class:"text-center font-bold text-[5vmin] mt-12"}," No Clients! ",-1)]))):(u(),d("div",A,[t("table",G,[e[9]||(e[9]=t("thead",{class:"text-xs text-white uppercase bg-yellow-500"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Client Name "),t("th",{scope:"col",class:"px-6 py-3"}," Gender "),t("th",{scope:"col",class:"px-6 py-3"}," Date & Time "),t("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1)),t("tbody",null,[(u(!0),d(C,null,I(f.clients.data,(l,v)=>(u(),d("tr",{key:v,class:"odd:bg-white even:bg-gray-200 border-b"},[t("th",H,i(l.lname+", ")+i(l.fname+" ")+i(" "+!l.mname?l.mname:""),1),t("td",R,i(l.sex=="male"?"Male":"Female"),1),t("td",W,i(T(l.created_at)),1),t("td",q,[t("button",{onClick:g=>M(l),class:"bg-green-500 rounded-md p-1 mr-1"},[n(k,{icon:"docs"})],8,z),a.$page.props.auth.user.user_type=="root"||a.$page.props.auth.user.user_type=="admin"||a.$page.props.auth.user.user_type=="vcsas"||a.$page.props.auth.user.user_type=="director"||a.$page.props.auth.user.user_type=="unit_head"?(u(),d("button",{key:0,onClick:g=>N(l),class:"bg-orange-500 rounded-md p-1 mr-1"},[n(k,{icon:"pencil"})],8,E)):U("",!0)])]))),128))])])])),t("div",J,[n(L,{links:h.clients.links,search:h.search},null,8,["links","search"]),t("p",K," Showing "+i(f.clients.data.length)+" Clients ",1)]),n($,{show:m.value,onClose:e[5]||(e[5]=l=>m.value=!1),maxWidth:"2xl"},{title:r(()=>e[10]||(e[10]=[c("Update Client here!")])),content:r(()=>[t("div",Q,[n(x,{type:"text",label:"Client First Name",modelValue:o(s).fname,"onUpdate:modelValue":e[0]||(e[0]=l=>o(s).fname=l)},null,8,["modelValue"]),n(_,{message:o(s).errors.fname,class:"mt-2"},null,8,["message"])]),t("div",X,[n(x,{type:"text",label:"Client Middle Name",modelValue:o(s).mname,"onUpdate:modelValue":e[1]||(e[1]=l=>o(s).mname=l)},null,8,["modelValue"])]),t("div",Z,[n(x,{type:"text",label:"Client Surname",modelValue:o(s).lname,"onUpdate:modelValue":e[2]||(e[2]=l=>o(s).lname=l)},null,8,["modelValue"]),n(_,{message:o(s).errors.lname,class:"mt-2"},null,8,["message"])]),t("div",ee,[B(t("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[3]||(e[3]=l=>o(s).sex=l)},e[11]||(e[11]=[t("option",{value:null,disabled:""},"Select Client Sex",-1),t("option",{value:"male"},"Male",-1),t("option",{value:"female"},"Female",-1)]),512),[[D,o(s).sex]]),n(_,{message:o(s).errors.sex,class:"mt-2"},null,8,["message"])])]),footer:r(()=>[n(V,{onClick:e[4]||(e[4]=l=>m.value=!1),class:"mr-2 hover:bg-red-500"},{default:r(()=>e[12]||(e[12]=[c(" Cancel ")])),_:1}),n(Y,{class:O([{"opacity-25":o(s).processing},"hover:bg-green-300"]),disabled:o(s).processing,onClick:S},{default:r(()=>e[13]||(e[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),c("Â Update ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),n($,{show:p.value,onClose:e[7]||(e[7]=l=>p.value=!1),maxWidth:"2xl"},{title:r(()=>{var l,v,g,b;return[c("Client's details of ("+i(((l=o(s).client)==null?void 0:l.lname)+", "+((v=o(s).client)==null?void 0:v.fname)+" "+((g=o(s).client)!=null&&g.mname?(b=o(s).client)==null?void 0:b.mname:""))+")",1)]}),content:r(()=>e[14]||(e[14]=[])),footer:r(()=>[n(V,{onClick:e[6]||(e[6]=l=>p.value=!1),class:"mr-2 hover:bg-red-500"},{default:r(()=>e[15]||(e[15]=[c(" Close ")])),_:1})]),_:1},8,["show"])],64))}};export{de as default};
