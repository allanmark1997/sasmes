import{T as y,r as m,d as _,b as t,w as n,F as k,o as g,a as s,f as a,t as b,p as j,e as A,g as L,k as C,v as z,u as o,n as S,q as D,s as V}from"./app-xglcCk5m.js";import{_ as G}from"./AppLayout-7_L7gYVd.js";import K from"./ServiceLists-CmTnvtZU.js";import{_ as h}from"./PrimaryButton-CjM_QxoA.js";import{_ as I}from"./DialogModal-wJkZWAgo.js";import{_ as N}from"./SecondaryButton-DBVNKoZh.js";import{_ as x}from"./Input-0oOCJiFL.js";import{_ as p}from"./InputError-LgHqUdg9.js";import{_ as W}from"./Icon-A7iCQWL2.js";import{i as f}from"./index-DJFF6QYh.js";import"./sasmes_logo-C-K0o8NT.js";import"./sasmes_text-TaE2kHS7.js";import"./ConfirmationModal-CCl5VqyQ.js";import"./Pagination2-C-VoYOWW.js";import"./moment-C5S46NFB.js";const q={class:"font-semibold text-lg text-white leading-tight"},E=["href"],J=["href"],Q={class:"py-4"},X={class:"flex justify-between"},Y={class:"flex gap-2 ml-8"},Z={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},ee={class:"overflow-hidden"},se={class:"grid grid-cols-12 gap-1 border p-1 mt-1 rounded-lg border-gray-300 h-[20vmin] overflow-y-auto"},oe=["value"],le={for:"bordered-checkbox-1",class:"w-full py-1 ms-2 text-sm font-medium text-gray-700"},te={class:"col-span-full"},ie={class:"col-span-full"},re={class:"col-span-full"},ne={class:"col-span-full"},ke={__name:"Index",props:["unit_services","unit","search","office_id","office","services","unit_id","service","clients"],setup($){const r=$,d=y({office_id:r.office_id,unit_id:r.unit_id,selected:[]}),l=y({fname:null,mname:null,lname:null,sex:null}),v=m(!1),u=m(!1);m(""),m("");const T=m([]),O=m([]),c=m(r.search),F=()=>{l.reset(),T.value=[],O.value=[],u.value=!u.value},R=()=>{d.post(route("unit_service.store"),{preserveScroll:!0,onSuccess:()=>{d.reset(),f.success("Service has been successfully added!",{autoClose:1e3,transition:f.TRANSITIONS.FLIP,position:f.POSITION.TOP_RIGHT}),d.reset(),v.value=!v.value}})},M=()=>{l.post(route("client.store"),{preserveScroll:!0,onSuccess:()=>{l.reset(),f.success("Client has been successfully registered!",{autoClose:1e3,transition:f.TRANSITIONS.FLIP,position:f.POSITION.TOP_RIGHT}),l.reset(),u.value=!u.value}})},P=()=>{V.get(route("unit_service.index",{search:c.value,office_id:r.office.id,unit_id:r.unit_id}))},U=()=>{c.value="",V.get(route("unit_service.index",{search:c.value,office_id:r.office.id,unit_id:r.unit_id}))};return(w,e)=>(g(),_(k,null,[t(G,{title:"Services"},{header:n(()=>[s("h2",q,[s("a",{class:"hover:underline",href:w.route("office.index")},"Offices",8,E),e[11]||(e[11]=a(" > ")),s("a",{class:"hover:underline",href:w.route("unit.index",{office_id:r.office.id})},b(r.office.name),9,J),a(" > "+b(r.unit.name)+" > Services ",1)])]),default:n(()=>[s("div",Q,[s("div",X,[s("div",Y,[t(x,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=i=>c.value=i),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search Service",onKeyup:j(P,["enter"])},null,8,["modelValue"]),c.value?(g(),_("button",{key:0,class:"h-10 my-auto mt-5",onClick:U},[t(W,{icon:"close_icon",size:"sm"})])):A("",!0)]),s("div",null,[t(h,{onClick:e[1]||(e[1]=i=>F()),class:"mb-2 mr-12 h-10 mt-5"},{default:n(()=>e[12]||(e[12]=[a(" Register Client ")])),_:1})])]),s("div",Z,[s("div",ee,[t(K,{unit_services:r.unit_services,search:r.search,office_id:r.office_id,unit_id:r.unit_id,clients:r.clients},null,8,["unit_services","search","office_id","unit_id","clients"])])])])]),_:1}),t(I,{show:v.value,onClose:e[4]||(e[4]=i=>v.value=!1),maxWidth:"2xl"},{title:n(()=>e[13]||(e[13]=[a("Add Service here!")])),content:n(()=>[s("div",se,[(g(!0),_(k,null,L(r.services,(i,B)=>(g(),_("div",{key:B,class:"col-span-4 flex items-center ps-4 border border-gray-200 rounded"},[C(s("input",{id:"bordered-checkbox-1",type:"checkbox",value:i.id,"onUpdate:modelValue":e[2]||(e[2]=H=>o(d).selected=H),name:"bordered-checkbox",class:"w-4 h-4 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500"},null,8,oe),[[z,o(d).selected]]),s("label",le,b(i.name),1)]))),128))]),s("div",null,[t(p,{message:o(d).errors.services,class:"mt-2"},null,8,["message"])])]),footer:n(()=>[t(N,{onClick:e[3]||(e[3]=i=>v.value=!1),class:"mr-2 hover:bg-red-500"},{default:n(()=>e[14]||(e[14]=[a(" Cancel ")])),_:1}),t(h,{class:S([{"opacity-25":o(d).processing},"hover:bg-green-300"]),disabled:o(d).processing,onClick:R},{default:n(()=>e[15]||(e[15]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),a(" Submit ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),t(I,{show:u.value,onClose:e[10]||(e[10]=i=>u.value=!1),maxWidth:"2xl"},{title:n(()=>e[16]||(e[16]=[a("Register New Client here!")])),content:n(()=>[s("div",te,[t(x,{type:"text",label:"Client First Name",modelValue:o(l).fname,"onUpdate:modelValue":e[5]||(e[5]=i=>o(l).fname=i)},null,8,["modelValue"]),t(p,{message:o(l).errors.fname||o(l).errors.name_surname,class:"mt-2"},null,8,["message"])]),s("div",ie,[t(x,{type:"text",label:"Client Middle Name",modelValue:o(l).mname,"onUpdate:modelValue":e[6]||(e[6]=i=>o(l).mname=i)},null,8,["modelValue"]),t(p,{message:o(l).errors.name_surname,class:"mt-2"},null,8,["message"])]),s("div",re,[t(x,{type:"text",label:"Client Surname",modelValue:o(l).lname,"onUpdate:modelValue":e[7]||(e[7]=i=>o(l).lname=i)},null,8,["modelValue"]),t(p,{message:o(l).errors.lname||o(l).errors.name_surname,class:"mt-2"},null,8,["message"])]),s("div",ne,[C(s("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[8]||(e[8]=i=>o(l).sex=i)},e[17]||(e[17]=[s("option",{value:null,disabled:""},"Select Client Sex",-1),s("option",{value:"male"},"Male",-1),s("option",{value:"female"},"Female",-1)]),512),[[D,o(l).sex]]),t(p,{message:o(l).errors.sex,class:"mt-2"},null,8,["message"])])]),footer:n(()=>[t(N,{onClick:e[9]||(e[9]=i=>u.value=!1),class:"mr-2 hover:bg-red-500"},{default:n(()=>e[18]||(e[18]=[a(" Cancel ")])),_:1}),t(h,{class:S([{"opacity-25":o(l).processing},"hover:bg-green-300"]),disabled:o(l).processing,onClick:M},{default:n(()=>e[19]||(e[19]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),a(" Register ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{ke as default};
