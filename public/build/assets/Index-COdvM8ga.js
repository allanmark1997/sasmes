import{T as z,r as f,d as n,b as r,w as u,F as I,o as i,a as l,p as E,e as w,f as h,g as L,h as k,u as o,k as T,q as V,n as H,s as R}from"./app-BfGFRyyD.js";import{_ as J}from"./AppLayout-D6nJWZJF.js";import K from"./ClientLists-nDi5Mt7F.js";import{_ as O}from"./PrimaryButton-Cve4nDwj.js";import{_ as X}from"./DialogModal-BcjQAN8o.js";import{_ as q}from"./SecondaryButton-Bi4rrwLI.js";import{_}from"./Input-K2rrCvTl.js";import{_ as m}from"./InputError-DkNgDbNt.js";import{_ as W}from"./Icon-P8P0f9Fe.js";import{i as d}from"./index-72zRCOvy.js";import"./sasmes_logo-C-K0o8NT.js";import"./sasmes_text-TaE2kHS7.js";import"./moment-C5S46NFB.js";const Q={class:"py-4"},Y={class:"flex justify-between"},Z={class:"flex gap-2 ml-8"},ee={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},le={class:"overflow-hidden"},se={class:"grid grid-cols-12 gap-2"},te={key:0,class:"col-span-12 mx-auto"},oe=["src"],re=["onClick"],ae={class:"col-span-full"},ne={class:"col-span-full"},ie={class:"col-span-full"},de={class:"col-span-full"},ue={class:"col-span-full"},me={class:"col-span-full"},pe={class:"grid grid-cols-12 gap-2 mt-2"},ce={key:0,class:"col-span-12 mx-auto"},ge=["src"],ve=["onClick"],Re={__name:"Index",props:["clients","search"],setup(N){const C=N,s=z({name:null,sex:null,birthday:null,address:null,type:null,role:null,photo:[],id_photo:[]}),p=f(!1),b=f(""),y=f(""),c=f([]),g=f([]),v=f(C.search),S=()=>{s.reset(),c.value=[],g.value=[],p.value=!p.value},P=()=>{s.post(route("client.store"),{preserveScroll:!0,onSuccess:()=>{s.reset(),d.success("Client has been successfully registered!",{autoClose:1e3,transition:d.TRANSITIONS.FLIP,position:d.POSITION.TOP_RIGHT}),s.reset(),p.value=!p.value}})},j=()=>{b.value="";let a=document.getElementById("profile_photo");a.click(),a.onchange=e=>{for(let t=0;t<e.target.files.length;t++)c.value.push(window.URL.createObjectURL(e.target.files[0])),s.photo=e.target.files[0]}},U=a=>{if(b.value="",a.preventDefault(),a.dataTransfer.files.length>1)b.value="Only 1 image can be selected";else for(const t of a.dataTransfer.files){var e=URL.createObjectURL(t);c.value.push(e),s.photo=t}},$=a=>{c.value.splice(a,1),s.photo=null,d.warn("Image remove",{autoClose:1e3,transition:d.TRANSITIONS.FLIP,position:d.POSITION.TOP_RIGHT})},B=()=>{y.value="";let a=document.getElementById("id_photo");a.click(),a.onchange=e=>{for(let t=0;t<e.target.files.length;t++)g.value.push(window.URL.createObjectURL(e.target.files[0])),s.id_photo=e.target.files[0]}},M=a=>{if(y.value="",a.preventDefault(),a.dataTransfer.files.length>1)y.value="Only 1 image can be selected";else for(const t of a.dataTransfer.files){var e=URL.createObjectURL(t);g.value.push(e),s.id_photo=t}},F=a=>{g.value.splice(a,1),s.id_photo=null,d.warn("Image remove",{autoClose:1e3,transition:d.TRANSITIONS.FLIP,position:d.POSITION.TOP_RIGHT})},G=()=>{R.get(route("client.index",{search:v.value}))},D=()=>{v.value="",R.get(route("client.index",{search:v.value}))};return(a,e)=>(i(),n(I,null,[r(J,{title:"Clients"},{header:u(()=>e[14]||(e[14]=[l("h2",{class:"font-semibold text-lg text-white leading-tight"}," Clients ",-1)])),default:u(()=>[l("div",Q,[l("div",Y,[l("div",Z,[r(_,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=t=>v.value=t),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search Client",onKeyup:E(G,["enter"])},null,8,["modelValue"]),v.value?(i(),n("button",{key:0,class:"h-10 my-auto mt-5",onClick:D},[r(W,{icon:"close_icon",size:"sm"})])):w("",!0)]),r(O,{onClick:e[1]||(e[1]=t=>S()),class:"mb-2 mr-12 h-10 mt-5"},{default:u(()=>e[15]||(e[15]=[h(" Register New Client ")])),_:1})]),l("div",ee,[l("div",le,[r(K,{clients:C.clients,search:C.search},null,8,["clients","search"])])])])]),_:1}),r(X,{show:p.value,onClose:e[13]||(e[13]=t=>p.value=!1),maxWidth:"2xl"},{title:u(()=>e[16]||(e[16]=[h("Register New Client here!")])),content:u(()=>[l("div",se,[c.value.length!=0?(i(),n("div",te,[(i(!0),n(I,null,L(c.value,(t,x)=>(i(),n("div",{key:x,class:"flex-shrink-0"},[l("img",{class:"w-[20vmin] h-[20vmin] rounded-full",src:t},null,8,oe),l("button",{onClick:A=>$(x),class:"flex text-gray-400 hover:text-gray-600 mt-2 mx-auto"},e[17]||(e[17]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[l("path",{class:"text-red-500","stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),l("span",{class:"text-red-500"},"Remove",-1)]),8,re)]))),128))])):w("",!0),c.value.length!=1?(i(),n("div",{key:1,class:"col-span-12",onDragover:e[2]||(e[2]=k(()=>{},["prevent"])),onDrop:e[3]||(e[3]=k(()=>{},["prevent"]))},[l("label",{onDrop:U,onClick:j,for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"},e[18]||(e[18]=[l("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[l("svg",{"aria-hidden":"true",class:"w-8 h-8 mb-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),l("p",{class:"mb-1 text-sm text-gray-500"},[l("span",{class:"font-semibold"},"Click to upload"),h(" or drag and drop Client's Photo ")]),l("p",{class:"text-xs text-gray-500"}," PNG, JPG or JPEG (MAX.1024kb) ")],-1),l("input",{id:"profile_photo",type:"file",accept:"image/png, image/gif, image/jpeg",class:"hidden"},null,-1)]),32)],32)):w("",!0),r(m,{message:o(s).errors.photo||b.value,class:"mt-2 col-span-full"},null,8,["message"])]),l("div",ae,[r(_,{type:"text",label:"Client Name",modelValue:o(s).name,"onUpdate:modelValue":e[4]||(e[4]=t=>o(s).name=t)},null,8,["modelValue"]),r(m,{message:o(s).errors.name,class:"mt-2"},null,8,["message"])]),l("div",ne,[T(l("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[5]||(e[5]=t=>o(s).sex=t)},e[19]||(e[19]=[l("option",{value:null,disabled:""},"Select Client Sex",-1),l("option",{value:"male"},"Male",-1),l("option",{value:"female"},"Female",-1)]),512),[[V,o(s).sex]]),r(m,{message:o(s).errors.sex,class:"mt-2"},null,8,["message"])]),l("div",ie,[r(_,{type:"date",label:"Client Birthday",modelValue:o(s).birthday,"onUpdate:modelValue":e[6]||(e[6]=t=>o(s).birthday=t)},null,8,["modelValue"]),r(m,{message:o(s).errors.birthday,class:"mt-2"},null,8,["message"])]),l("div",de,[r(_,{type:"text",label:"Client Address",modelValue:o(s).address,"onUpdate:modelValue":e[7]||(e[7]=t=>o(s).address=t)},null,8,["modelValue"]),r(m,{message:o(s).errors.address,class:"mt-2"},null,8,["message"])]),l("div",ue,[T(l("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[8]||(e[8]=t=>o(s).role=t)},e[20]||(e[20]=[l("option",{value:null,disabled:""},"Select Client Role",-1),l("option",{value:"student"},"Student",-1),l("option",{value:"employee"},"Employee",-1),l("option",{value:"alumni"},"Alumni",-1),l("option",{value:"guardian"},"Guardian",-1),l("option",{value:"others"},"Others",-1)]),512),[[V,o(s).role]]),r(m,{message:o(s).errors.role,class:"mt-2"},null,8,["message"])]),l("div",me,[T(l("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[9]||(e[9]=t=>o(s).type=t)},e[21]||(e[21]=[l("option",{value:null,disabled:""},"Select Client Type",-1),l("option",{value:"citizen"},"Citizen",-1),l("option",{value:"business"},"Business",-1),l("option",{value:"government"},"Government",-1)]),512),[[V,o(s).type]]),r(m,{message:o(s).errors.role,class:"mt-2"},null,8,["message"])]),l("div",pe,[g.value.length!=0?(i(),n("div",ce,[(i(!0),n(I,null,L(g.value,(t,x)=>(i(),n("div",{key:x,class:"flex-shrink-0"},[l("img",{class:"w-64 h-64 rounded-lg",src:t},null,8,ge),l("button",{onClick:A=>F(x),class:"flex text-gray-400 hover:text-gray-600 mt-2 mx-auto"},e[22]||(e[22]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[l("path",{class:"text-red-500","stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),l("span",{class:"text-red-500"},"Remove",-1)]),8,ve)]))),128))])):w("",!0),g.value.length!=1?(i(),n("div",{key:1,class:"col-span-12",onDragover:e[10]||(e[10]=k(()=>{},["prevent"])),onDrop:e[11]||(e[11]=k(()=>{},["prevent"]))},[l("label",{onDrop:M,onClick:B,for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"},e[23]||(e[23]=[l("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[l("svg",{"aria-hidden":"true",class:"w-8 h-8 mb-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),l("p",{class:"mb-1 text-sm text-gray-500"},[l("span",{class:"font-semibold"},"Click to upload"),h(" or drag and drop ID Photo ")]),l("p",{class:"text-xs text-gray-500"}," PNG, JPG or JPEG (MAX.1024kb) ")],-1),l("input",{id:"id_photo",type:"file",accept:"image/png, image/gif, image/jpeg",class:"hidden"},null,-1)]),32),r(m,{message:o(s).errors.id_photo||y.value,class:"mt-2"},null,8,["message"])],32)):w("",!0)])]),footer:u(()=>[r(q,{onClick:e[12]||(e[12]=t=>p.value=!1),class:"mr-2 hover:bg-red-500"},{default:u(()=>e[24]||(e[24]=[h(" Cancel ")])),_:1}),r(O,{class:H([{"opacity-25":o(s).processing},"hover:bg-green-300"]),disabled:o(s).processing,onClick:P},{default:u(()=>e[25]||(e[25]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),h(" Register ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{Re as default};
