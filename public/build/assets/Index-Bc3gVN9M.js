import{T as $,r as v,d as _,b as o,w as r,F as N,o as f,a as l,p as S,e as x,c as I,f as m,u as t,k as T,q as F,n as B,s as w}from"./app-Cm-DeM90.js";import{_ as R}from"./AppLayout-piP28egd.js";import U from"./ClientLists-BUhHe8F_.js";import{_ as C}from"./PrimaryButton-B6t1U-SU.js";import{_ as M}from"./DialogModal-6Rd8JxYk.js";import{_ as O}from"./SecondaryButton-B_31DLE-.js";import{_ as u}from"./Input-C-PwPlFk.js";import{_ as d}from"./InputError-Bhuw3u1S.js";import{_ as P}from"./Icon-DRWFhniO.js";import{i as g}from"./index-dqHJkXyI.js";import"./sasmes_logo-C-K0o8NT.js";import"./sasmes_text-TaE2kHS7.js";import"./Pagination2-BaphJLUj.js";import"./moment-C5S46NFB.js";const j={class:"py-4"},z={class:"flex justify-between"},H={class:"flex gap-2 ml-8"},K={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},q={class:"overflow-hidden"},A={class:"col-span-full"},D={class:"col-span-full"},E={class:"col-span-full"},G={class:"col-span-full"},ne={__name:"Index",props:["clients","search"],setup(b){const p=b,s=$({fname:null,mname:null,lname:null,sex:null}),n=v(!1),i=v(p.search),h=()=>{s.reset(),n.value=!n.value},y=()=>{s.post(route("client.store"),{preserveScroll:!0,onSuccess:()=>{s.reset(),g.success("Client has been successfully registered!",{autoClose:1e3,transition:g.TRANSITIONS.FLIP,position:g.POSITION.TOP_RIGHT}),s.reset(),n.value=!n.value}})},V=()=>{w.get(route("client.index",{search:i.value}))},k=()=>{i.value="",w.get(route("client.index",{search:i.value}))};return(c,e)=>(f(),_(N,null,[o(R,{title:"Clients"},{header:r(()=>e[8]||(e[8]=[l("h2",{class:"font-semibold text-lg text-white leading-tight"}," Clients ",-1)])),default:r(()=>[l("div",j,[l("div",z,[l("div",H,[o(u,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search Client",onKeyup:S(V,["enter"])},null,8,["modelValue"]),i.value?(f(),_("button",{key:0,class:"h-10 my-auto mt-5",onClick:k},[o(P,{icon:"close_icon",size:"sm"})])):x("",!0)]),c.$page.props.auth.user.user_type=="root"||c.$page.props.auth.user.user_type=="admin"||c.$page.props.auth.user.user_type=="director"?(f(),I(C,{key:0,onClick:e[1]||(e[1]=a=>h()),class:"mb-2 mr-12 h-10 mt-5"},{default:r(()=>e[9]||(e[9]=[m(" Register New Client ")])),_:1})):x("",!0)]),l("div",K,[l("div",q,[o(U,{clients:p.clients,search:p.search},null,8,["clients","search"])])])])]),_:1}),o(M,{show:n.value,onClose:e[7]||(e[7]=a=>n.value=!1),maxWidth:"2xl"},{title:r(()=>e[10]||(e[10]=[m("Register New Client here!")])),content:r(()=>[l("div",A,[o(u,{type:"text",label:"Client First Name",modelValue:t(s).fname,"onUpdate:modelValue":e[2]||(e[2]=a=>t(s).fname=a)},null,8,["modelValue"]),o(d,{message:t(s).errors.fname||t(s).errors.name_surname,class:"mt-2"},null,8,["message"])]),l("div",D,[o(u,{type:"text",label:"Client Middle Name",modelValue:t(s).mname,"onUpdate:modelValue":e[3]||(e[3]=a=>t(s).mname=a)},null,8,["modelValue"]),o(d,{message:t(s).errors.name_surname,class:"mt-2"},null,8,["message"])]),l("div",E,[o(u,{type:"text",label:"Client Surname",modelValue:t(s).lname,"onUpdate:modelValue":e[4]||(e[4]=a=>t(s).lname=a)},null,8,["modelValue"]),o(d,{message:t(s).errors.lname||t(s).errors.name_surname,class:"mt-2"},null,8,["message"])]),l("div",G,[T(l("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[5]||(e[5]=a=>t(s).sex=a)},e[11]||(e[11]=[l("option",{value:null,disabled:""},"Select Client Sex",-1),l("option",{value:"male"},"Male",-1),l("option",{value:"female"},"Female",-1)]),512),[[F,t(s).sex]]),o(d,{message:t(s).errors.sex,class:"mt-2"},null,8,["message"])])]),footer:r(()=>[o(O,{onClick:e[6]||(e[6]=a=>n.value=!1),class:"mr-2 hover:bg-red-500"},{default:r(()=>e[12]||(e[12]=[m(" Cancel ")])),_:1}),o(C,{class:B([{"opacity-25":t(s).processing},"hover:bg-green-300"]),disabled:t(s).processing,onClick:y},{default:r(()=>e[13]||(e[13]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),m("Â Register ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{ne as default};
