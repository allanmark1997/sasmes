import{T as F,r as C,d,a as s,e as k,F as $,g as I,b as n,t as r,w as m,o as u,f as c,u as o,k as U,q as B,n as D}from"./app-CWvu6ygz.js";import{_ as O}from"./Icon-DjOxyy3g.js";import{_ as Y}from"./PrimaryButton-CuMmknyU.js";import{_ as V}from"./DialogModal-CyoGCgLA.js";import{_ as N}from"./SecondaryButton-DKmnnHrP.js";import{_ as v}from"./Input-Ds26XfHO.js";import{_ as x}from"./InputError-DYIMlKcp.js";import{_ as j}from"./Pagination2-CrLWhXmk.js";import{i as y}from"./index-CYzqgpn7.js";import{h as L}from"./moment-C5S46NFB.js";const P={key:0},A={key:1,class:"relative overflow-x-auto overflow-y-auto rounded-lg"},G={class:"w-full text-sm text-left rtl:text-right text-gray-700"},H={class:"text-xs text-white uppercase bg-yellow-500"},R={key:0,scope:"col",class:"px-6 py-3"},W={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap flex"},q=["href"],z={class:"px-6 py-4"},E={class:"px-6 py-4"},J={key:0,class:"px-6 py-4"},K=["onClick"],Q={class:"flex items-center justify-between bottom-1 fixed"},X={class:"mt-6 text-sm text-gray-500"},Z={class:"col-span-full"},ee={class:"col-span-full"},se={class:"col-span-full"},te={class:"col-span-full"},le={class:"flex mt-2 bg-[#fff7d1] shadow-lg rounded-lg justify-between"},oe={class:"flex"},ae={class:"p-3"},ne={class:"text-xl uppercase"},re={class:"text-sm"},me={class:"p-3 flex"},ie={class:"uppercase"},he={__name:"ClientLists",props:["clients","search"],setup(p){const h=p,t=F({fname:null,mname:null,lname:null,sex:null}),i=C(!1),_=C(!1),S=a=>{t.reset(),t.errors.name_surname=null,t.client=a,t.fname=a.fname,t.mname=a.mname,t.lname=a.lname,t.sex=a.sex,i.value=!i.value},M=()=>{t.post(route("client.update",{client:t.client}),{preserveScroll:!0,onSuccess:()=>{t.reset(),y.success("Client has been successfully updated!",{autoClose:1e3,transition:y.TRANSITIONS.FLIP,position:y.POSITION.TOP_RIGHT}),t.reset(),i.value=!i.value}})},T=a=>L(a).format("MMMM Do YYYY, h:mm:ss a");return(a,e)=>(u(),d($,null,[p.clients.data.length==0?(u(),d("div",P,e[8]||(e[8]=[s("p",{class:"text-center font-bold text-[5vmin] mt-12"}," No Clients! ",-1)]))):(u(),d("div",A,[s("table",G,[s("thead",H,[s("tr",null,[e[9]||(e[9]=s("th",{scope:"col",class:"px-6 py-3"}," Client Name ",-1)),e[10]||(e[10]=s("th",{scope:"col",class:"px-6 py-3"}," Gender ",-1)),e[11]||(e[11]=s("th",{scope:"col",class:"px-6 py-3"}," Date & Time ",-1)),a.$page.props.auth.user.user_type=="root"||a.$page.props.auth.user.user_type=="admin"||a.$page.props.auth.user.user_type=="director"?(u(),d("th",R," Action ")):k("",!0)])]),s("tbody",null,[(u(!0),d($,null,I(p.clients.data,(l,f)=>(u(),d("tr",{key:f,class:"odd:bg-white even:bg-gray-200 border-b"},[s("th",W,[s("a",{class:"hover:font-bold hover:underline",href:a.route("client.index_details",{client_id:l.id})},r(l.lname+", ")+r(l.fname+" ")+r(" "+!l.mname?l.mname:""),9,q)]),s("td",z,r(l.sex=="male"?"Male":"Female"),1),s("td",E,r(T(l.created_at)),1),a.$page.props.auth.user.user_type=="root"||a.$page.props.auth.user.user_type=="admin"||a.$page.props.auth.user.user_type=="director"?(u(),d("td",J,[s("button",{onClick:g=>S(l),class:"bg-orange-500 rounded-md p-1 mr-1"},[n(O,{icon:"pencil"})],8,K)])):k("",!0)]))),128))])])])),s("div",Q,[n(j,{links:h.clients.links,search:h.search},null,8,["links","search"]),s("p",X," Showing "+r(p.clients.data.length)+" Clients ",1)]),n(V,{show:i.value,onClose:e[5]||(e[5]=l=>i.value=!1),maxWidth:"2xl"},{title:m(()=>e[12]||(e[12]=[c("Update Client here!")])),content:m(()=>[s("div",Z,[n(v,{type:"text",label:"Client First Name",modelValue:o(t).fname,"onUpdate:modelValue":e[0]||(e[0]=l=>o(t).fname=l)},null,8,["modelValue"]),n(x,{message:o(t).errors.fname||o(t).errors.name_surname,class:"mt-2"},null,8,["message"])]),s("div",ee,[n(v,{type:"text",label:"Client Middle Name",modelValue:o(t).mname,"onUpdate:modelValue":e[1]||(e[1]=l=>o(t).mname=l)},null,8,["modelValue"]),n(x,{message:o(t).errors.name||o(t).errors.name_surname,class:"mt-2"},null,8,["message"])]),s("div",se,[n(v,{type:"text",label:"Client Surname",modelValue:o(t).lname,"onUpdate:modelValue":e[2]||(e[2]=l=>o(t).lname=l)},null,8,["modelValue"]),n(x,{message:o(t).errors.lname||o(t).errors.name_surname,class:"mt-2"},null,8,["message"])]),s("div",te,[U(s("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[3]||(e[3]=l=>o(t).sex=l)},e[13]||(e[13]=[s("option",{value:null,disabled:""},"Select Client Sex",-1),s("option",{value:"male"},"Male",-1),s("option",{value:"female"},"Female",-1)]),512),[[B,o(t).sex]]),n(x,{message:o(t).errors.sex,class:"mt-2"},null,8,["message"])])]),footer:m(()=>[n(N,{onClick:e[4]||(e[4]=l=>i.value=!1),class:"mr-2 hover:bg-red-500"},{default:m(()=>e[14]||(e[14]=[c(" Cancel ")])),_:1}),n(Y,{class:D([{"opacity-25":o(t).processing},"hover:bg-green-300"]),disabled:o(t).processing,onClick:M},{default:m(()=>e[15]||(e[15]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),c(" Update ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),n(V,{show:_.value,onClose:e[7]||(e[7]=l=>_.value=!1),maxWidth:"6xl"},{title:m(()=>{var l,f,g,b,w;return[s("div",le,[s("div",oe,[e[16]||(e[16]=s("p",{class:"border-r-2 p-3"}," Name: ",-1)),s("div",ae,[s("p",ne,r(((l=o(t).client)==null?void 0:l.lname)+", "),1),s("p",re,r(((f=o(t).client)==null?void 0:f.fname)+" "+((g=o(t).client)!=null&&g.mname?(b=o(t).client)==null?void 0:b.mname:"")),1)])]),s("div",me,[e[17]||(e[17]=s("p",null," Sex: ",-1)),s("p",ie,"   "+r((w=o(t).client)==null?void 0:w.sex),1)])])]}),content:m(()=>e[18]||(e[18]=[])),footer:m(()=>[n(N,{onClick:e[6]||(e[6]=l=>_.value=!1),class:"mr-2 hover:bg-red-500"},{default:m(()=>e[19]||(e[19]=[c(" Close ")])),_:1})]),_:1},8,["show"])],64))}};export{he as default};
