import{T as $,r as g,d,b as l,w as u,F as S,o as i,a as s,k as j,q as U,g as O,t as A,e as w,p as ee,c as B,f as c,h as V,u as r,n as D,s as M}from"./app-PqQZyH9m.js";import{_ as se}from"./AppLayout-mOC_OS41.js";import oe from"./ServiceLists-BmptBlbv.js";import{_ as L}from"./PrimaryButton-B7O4sDbK.js";import{_ as F}from"./DialogModal-XMPB8Pkm.js";import{_ as G}from"./SecondaryButton-DY9GuG2d.js";import{_ as C}from"./Input-BtBuLjD6.js";import{_ as h}from"./InputError-CPwee-PK.js";import{_ as te}from"./Icon-CrKloIWW.js";import{i as m}from"./index-CIGi2BoF.js";import"./sasmes_logo-C-K0o8NT.js";import"./sasmes_text-TaE2kHS7.js";import"./ConfirmationModal-BHUQQtks.js";const le={class:"py-4"},re={class:"flex justify-between"},ae={class:"flex gap-2 ml-8"},ie={key:0},ne=["value"],de={class:"flex"},ue={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},me={class:"overflow-hidden"},ce={class:"grid grid-cols-12 gap-2"},ve={key:0,class:"col-span-12 mx-auto"},pe=["src"],fe=["onClick"],ge={class:"grid grid-cols-12 gap-1"},be={class:"col-span-12"},xe={class:"col-span-full"},we=["value"],he={class:"grid grid-cols-12 gap-2"},ke={key:0,class:"col-span-12 mx-auto"},ye=["src"],_e=["onClick"],Se={class:"grid grid-cols-12 gap-1"},Ce={class:"col-span-12"},Ie={class:"col-span-full"},Me={__name:"Index",props:["services","search","offices","office"],setup(H){const f=H,a=$({name:null,abbrevation:null,image:[],office_id:""}),n=$({name:null,abbrevation:null,image:[]}),k=g(!1),y=g(!1),v=g([]),I=g(""),b=g([]),T=g(""),x=g(f.search),_=g(f.office),N=()=>{a.reset(),v.value=[],k.value=!k.value},P=()=>{n.reset(),v.value=[],y.value=!y.value},E=()=>{a.post(route("service.store"),{preserveScroll:!0,onSuccess:()=>{a.reset(),m.success("Service has been successfully added!",{autoClose:1e3,transition:m.TRANSITIONS.FLIP,position:m.POSITION.TOP_RIGHT}),a.reset(),v.value=[],N()}})},z=()=>{n.post(route("service.store_director"),{preserveScroll:!0,onSuccess:()=>{n.reset(),m.success("Service has been successfully added!",{autoClose:1e3,transition:m.TRANSITIONS.FLIP,position:m.POSITION.TOP_RIGHT}),n.reset(),b.value=[],P()}})},J=()=>{T.value="";let t=document.getElementById("profile_photo_director");t.click(),t.onchange=e=>{for(let o=0;o<e.target.files.length;o++)b.value.push(window.URL.createObjectURL(e.target.files[0])),n.image=e.target.files[0]}},K=t=>{if(T.value="",t.preventDefault(),t.dataTransfer.files.length>1)T.value="Only 1 image can be selected";else for(const o of t.dataTransfer.files){var e=URL.createObjectURL(o);b.value.push(e),n.image=o}},W=t=>{b.value.splice(t,1),n.image=null,m.warn("Image remove",{autoClose:1e3,transition:m.TRANSITIONS.FLIP,position:m.POSITION.TOP_RIGHT})},X=()=>{I.value="";let t=document.getElementById("profile_photo");t.click(),t.onchange=e=>{for(let o=0;o<e.target.files.length;o++)v.value.push(window.URL.createObjectURL(e.target.files[0])),a.image=e.target.files[0]}},q=t=>{if(I.value="",t.preventDefault(),t.dataTransfer.files.length>1)I.value="Only 1 image can be selected";else for(const o of t.dataTransfer.files){var e=URL.createObjectURL(o);v.value.push(e),a.image=o}},Q=t=>{v.value.splice(t,1),a.image=null,m.warn("Image remove",{autoClose:1e3,transition:m.TRANSITIONS.FLIP,position:m.POSITION.TOP_RIGHT})},R=()=>{M.get(route("service.index",{search:x.value,office:_.value}))},Y=()=>{x.value="",_.value="",M.get(route("service.index",{search:x.value,office:_.value}))};return(t,e)=>(i(),d(S,null,[l(se,{title:"Services"},{header:u(()=>e[17]||(e[17]=[s("h2",{class:"font-semibold text-lg text-white leading-tight"}," Services ",-1)])),default:u(()=>[s("div",le,[s("div",re,[s("div",ae,[t.$page.props.auth.user.user_type!="director"?(i(),d("div",ie,[j(s("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>_.value=o),onChange:R,class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-[15vmin] h-10 mt-5 p-1"},[e[18]||(e[18]=s("option",{value:"",disabled:""},"Select Office",-1)),e[19]||(e[19]=s("option",{value:""},"All Offices",-1)),(i(!0),d(S,null,O(f.offices,(o,p)=>(i(),d("option",{key:p,value:o.id},A(o.abbrevation),9,ne))),128))],544),[[U,_.value]])])):w("",!0),l(C,{modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=o=>x.value=o),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search Service",onKeyup:ee(R,["enter"])},null,8,["modelValue"]),x.value?(i(),d("button",{key:1,class:"h-10 my-auto mt-5",onClick:Y},[l(te,{icon:"close_icon",size:"sm"})])):w("",!0)]),s("div",de,[t.$page.props.auth.user.user_type=="director"?(i(),B(L,{key:0,onClick:e[2]||(e[2]=o=>P()),class:"mb-2 mr-10 h-10 mt-5"},{default:u(()=>e[20]||(e[20]=[c(" Add Service ")])),_:1})):(i(),B(L,{key:1,onClick:e[3]||(e[3]=o=>N()),class:"mb-2 mr-12 h-10 mt-5"},{default:u(()=>e[21]||(e[21]=[c(" Add Service ")])),_:1}))])]),s("div",ue,[s("div",me,[l(oe,{services:f.services,search:f.search,office:f.office,offices:f.offices},null,8,["services","search","office","offices"])])])])]),_:1}),l(F,{show:k.value,onClose:e[10]||(e[10]=o=>k.value=!1),maxWidth:"2xl"},{title:u(()=>e[22]||(e[22]=[c("Add Services here!")])),content:u(()=>[s("div",ce,[v.value.length!=0?(i(),d("div",ve,[(i(!0),d(S,null,O(v.value,(o,p)=>(i(),d("div",{key:p,class:"flex-shrink-0"},[s("img",{class:"w-64 h-64 rounded-lg",src:o},null,8,pe),s("button",{onClick:Z=>Q(p),class:"flex text-gray-400 hover:text-gray-600 mt-2 mx-auto"},e[23]||(e[23]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{class:"text-red-500","stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),s("span",{class:"text-red-500"},"Remove",-1)]),8,fe)]))),128))])):w("",!0),v.value.length!=1?(i(),d("div",{key:1,class:"col-span-12",onDragover:e[4]||(e[4]=V(()=>{},["prevent"])),onDrop:e[5]||(e[5]=V(()=>{},["prevent"]))},[s("label",{onDrop:q,onClick:X,for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"},e[24]||(e[24]=[s("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[s("svg",{"aria-hidden":"true",class:"w-8 h-8 mb-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),s("p",{class:"mb-1 text-sm text-gray-500"},[s("span",{class:"font-semibold"},"Click to upload"),c(" or drag and drop ")]),s("p",{class:"text-xs text-gray-500"}," PNG, JPG or JPEG (MAX.1024kb) ")],-1),s("input",{id:"profile_photo",type:"file",accept:"image/png, image/gif, image/jpeg",class:"hidden"},null,-1)]),32),l(h,{message:r(a).errors.image||I.value,class:"mt-2"},null,8,["message"])],32)):w("",!0)]),s("div",ge,[s("div",be,[l(C,{type:"text",label:"Service name",modelValue:r(a).name,"onUpdate:modelValue":e[6]||(e[6]=o=>r(a).name=o)},null,8,["modelValue"]),l(h,{message:r(a).errors.name,class:"mt-2"},null,8,["message"])])]),s("div",xe,[l(C,{type:"text",label:"Service abbrevation",modelValue:r(a).abbrevation,"onUpdate:modelValue":e[7]||(e[7]=o=>r(a).abbrevation=o)},null,8,["modelValue"]),l(h,{message:r(a).errors.abbrevation,class:"mt-2"},null,8,["message"])]),s("div",null,[j(s("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>r(a).office_id=o),class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full"},[e[25]||(e[25]=s("option",{value:"",disabled:""},"Select Office",-1)),(i(!0),d(S,null,O(f.offices,(o,p)=>(i(),d("option",{key:p,value:o.id},A(o.name),9,we))),128))],512),[[U,r(a).office_id]])])]),footer:u(()=>[l(G,{onClick:e[9]||(e[9]=o=>k.value=!1),class:"mr-2 hover:bg-red-500"},{default:u(()=>e[26]||(e[26]=[c(" Cancel ")])),_:1}),l(L,{class:D([{"opacity-25":r(a).processing},"hover:bg-green-300"]),disabled:r(a).processing,onClick:E},{default:u(()=>e[27]||(e[27]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),c(" Submit ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),l(F,{show:y.value,onClose:e[16]||(e[16]=o=>y.value=!1),maxWidth:"2xl"},{title:u(()=>e[28]||(e[28]=[c("Add Services here!")])),content:u(()=>[s("div",he,[b.value.length!=0?(i(),d("div",ke,[(i(!0),d(S,null,O(b.value,(o,p)=>(i(),d("div",{key:p,class:"flex-shrink-0"},[s("img",{class:"w-64 h-64 rounded-lg",src:o},null,8,ye),s("button",{onClick:Z=>W(p),class:"flex text-gray-400 hover:text-gray-600 mt-2 mx-auto"},e[29]||(e[29]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{class:"text-red-500","stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),s("span",{class:"text-red-500"},"Remove",-1)]),8,_e)]))),128))])):w("",!0),b.value.length!=1?(i(),d("div",{key:1,class:"col-span-12",onDragover:e[11]||(e[11]=V(()=>{},["prevent"])),onDrop:e[12]||(e[12]=V(()=>{},["prevent"]))},[s("label",{onDrop:K,onClick:J,for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"},e[30]||(e[30]=[s("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[s("svg",{"aria-hidden":"true",class:"w-8 h-8 mb-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),s("p",{class:"mb-1 text-sm text-gray-500"},[s("span",{class:"font-semibold"},"Click to upload"),c(" or drag and drop ")]),s("p",{class:"text-xs text-gray-500"}," PNG, JPG or JPEG (MAX.1024kb) ")],-1),s("input",{id:"profile_photo_director",type:"file",accept:"image/png, image/gif, image/jpeg",class:"hidden"},null,-1)]),32),l(h,{message:r(n).errors.image||T.value,class:"mt-2"},null,8,["message"])],32)):w("",!0)]),s("div",Se,[s("div",Ce,[l(C,{type:"text",label:"Service name",modelValue:r(n).name,"onUpdate:modelValue":e[13]||(e[13]=o=>r(n).name=o)},null,8,["modelValue"]),l(h,{message:r(n).errors.name,class:"mt-2"},null,8,["message"])])]),s("div",Ie,[l(C,{type:"text",label:"Service abbrevation",modelValue:r(n).abbrevation,"onUpdate:modelValue":e[14]||(e[14]=o=>r(n).abbrevation=o)},null,8,["modelValue"]),l(h,{message:r(n).errors.abbrevation,class:"mt-2"},null,8,["message"])])]),footer:u(()=>[l(G,{onClick:e[15]||(e[15]=o=>y.value=!1),class:"mr-2 hover:bg-red-500"},{default:u(()=>e[31]||(e[31]=[c(" Cancel ")])),_:1}),l(L,{class:D([{"opacity-25":r(n).processing},"hover:bg-green-300"]),disabled:r(n).processing,onClick:z},{default:u(()=>e[32]||(e[32]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),c(" Submit ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{Me as default};
