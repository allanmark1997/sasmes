import{T as O,r as v,d as f,b as t,w as r,F as U,o as p,a as o,k as c,q as g,g as S,t as b,p as T,e as P,f as _,u as a,n as R,s as C}from"./app-B4GNekgC.js";import{_ as B}from"./AppLayout-CzaQ6T2o.js";import{_ as h}from"./PrimaryButton-ZLTH0nXS.js";import{_ as D}from"./DialogModal-CkS4wbvt.js";import{_ as F}from"./SecondaryButton-BImI2BiB.js";import{_ as V}from"./Input-D4YzwfrH.js";import{_ as w}from"./InputError-Cw_eE8k_.js";import{_ as H}from"./Icon-Czh8ArlA.js";import{i as k}from"./index-T6xxjBdu.js";import j from"./UserLists-C-32vwx_.js";import"./sasmes_logo-C-K0o8NT.js";import"./sasmes_text-TaE2kHS7.js";import"./ConfirmationModal-BjNodOqJ.js";import"./moment-C5S46NFB.js";const z={class:"py-4"},E={class:"flex justify-between"},K={class:"flex gap-2 ml-8"},L=["value"],M={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},q={class:"overflow-hidden"},G={class:"col-span-full"},W={class:"col-span-full"},J={class:"col-span-full"},Q=["value"],X={class:"col-span-full"},pe={__name:"Index",props:["users","offices","services","search","office","position","units"],setup($){const i=$,l=O({name:null,email:null,user_type:"",office_id:""}),n=v(!1),u=v(i.search),d=v(i.position),m=v(i.office),y=()=>{C.get(route("user.index",{search:u.value,position:d.value,office:m.value}))},N=()=>{u.value="",d.value="",m.value="",C.get(route("user.index",{search:u.value,position:d.value,office:m.value}))},A=()=>{l.reset(),n.value=!n.value},I=()=>{l.post(route("user.store"),{preserveScroll:!0,onSuccess:()=>{l.reset(),k.success("User has been successfully registered!",{autoClose:1e3,transition:k.TRANSITIONS.FLIP,position:k.POSITION.TOP_RIGHT}),l.reset(),n.value=!n.value}})};return(Y,e)=>(p(),f(U,null,[t(B,{title:"Users"},{header:r(()=>e[10]||(e[10]=[o("h2",{class:"font-semibold text-lg text-white leading-tight"}," Users ",-1)])),default:r(()=>[o("div",z,[o("div",E,[o("div",K,[o("div",null,[c(o("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),onChange:y,class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full"},[e[11]||(e[11]=o("option",{value:"",disabled:""},"Select Office",-1)),e[12]||(e[12]=o("option",{value:""},"All Offices",-1)),(p(!0),f(U,null,S(i.offices,(s,x)=>(p(),f("option",{key:x,value:s.id},b(s.abbrevation)+" ("+b(s.name)+")",9,L))),128))],544),[[g,m.value]])]),o("div",null,[c(o("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),onChange:y,class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full"},e[13]||(e[13]=[o("option",{value:"",disabled:""},"Select User Position",-1),o("option",{value:""},"All Positions",-1),o("option",{value:"root"},"Root",-1),o("option",{value:"admin"},"Admin",-1),o("option",{value:"vcsas"},"VCSAS",-1),o("option",{value:"director"},"Director",-1),o("option",{value:"unit_head"},"Unit Head",-1),o("option",{value:"unit_staff"},"Unit Staff",-1)]),544),[[g,d.value]])]),t(V,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search User",onKeyup:T(y,["enter"])},null,8,["modelValue"]),u.value||d.value||m.value?(p(),f("button",{key:0,class:"h-10 my-auto mt-5",onClick:N},[t(H,{icon:"close_icon",size:"sm"})])):P("",!0)]),o("div",null,[t(h,{onClick:e[3]||(e[3]=s=>A()),class:"mb-2 mr-12 h-10 mt-5"},{default:r(()=>e[14]||(e[14]=[_(" Create User ")])),_:1})])]),o("div",M,[o("div",q,[t(j,{users:i.users,offices:i.offices,search:i.search,position:i.position,office:i.office,units:i.units},null,8,["users","offices","search","position","office","units"])])])])]),_:1}),t(D,{show:n.value,onClose:e[9]||(e[9]=s=>n.value=!1),maxWidth:"2xl"},{title:r(()=>e[15]||(e[15]=[_("Register User here!")])),content:r(()=>[o("div",G,[t(V,{type:"text",label:"User Name",modelValue:a(l).name,"onUpdate:modelValue":e[4]||(e[4]=s=>a(l).name=s)},null,8,["modelValue"]),t(w,{message:a(l).errors.name,class:"mt-2"},null,8,["message"])]),o("div",W,[t(V,{type:"email",label:"User Email",modelValue:a(l).email,"onUpdate:modelValue":e[5]||(e[5]=s=>a(l).email=s)},null,8,["modelValue"]),t(w,{message:a(l).errors.email,class:"mt-2"},null,8,["message"])]),o("div",J,[c(o("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>a(l).office_id=s),class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full"},[e[16]||(e[16]=o("option",{value:"",disabled:""},"Select Office",-1)),(p(!0),f(U,null,S(i.offices,(s,x)=>(p(),f("option",{key:x,value:s.id},b(s.abbrevation)+" ("+b(s.name)+")",9,Q))),128))],512),[[g,a(l).office_id]]),t(w,{message:a(l).errors.office_id,class:"mt-2"},null,8,["message"])]),o("div",X,[c(o("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>a(l).user_type=s),class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full"},e[17]||(e[17]=[o("option",{value:"",disabled:""},"Select User Position",-1),o("option",{value:"root"},"Root",-1),o("option",{value:"admin"},"Admin",-1),o("option",{value:"vcsas"},"VCSAS",-1),o("option",{value:"director"},"Director",-1),o("option",{value:"unit_head"},"Unit Head",-1),o("option",{value:"unit_staff"},"Unit Staff",-1)]),512),[[g,a(l).user_type]]),t(w,{message:a(l).errors.user_type,class:"mt-2"},null,8,["message"])])]),footer:r(()=>[t(F,{onClick:e[8]||(e[8]=s=>n.value=!1),class:"mr-2 hover:bg-red-500"},{default:r(()=>e[18]||(e[18]=[_(" Cancel ")])),_:1}),t(h,{class:R([{"opacity-25":a(l).processing},"hover:bg-green-300"]),disabled:a(l).processing,onClick:I},{default:r(()=>e[19]||(e[19]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),_("Â Register ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{pe as default};
