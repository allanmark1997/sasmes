import{T as I,r as C,d as m,a as s,F as k,g as U,b as n,t as r,w as i,o as u,e as B,f as x,u as o,k as D,q as O,n as Y}from"./app-CBJz-P0Z.js";import{_ as $}from"./Icon-RyGwq0-F.js";import{_ as j}from"./PrimaryButton-DJrJSKJ5.js";import{_ as V}from"./DialogModal-DUcuS041.js";import{_ as N}from"./SecondaryButton-BiFyXpEL.js";import{_}from"./Input-C-YFW9l6.js";import{_ as g}from"./InputError-BKMaT1Z3.js";import{_ as L}from"./Pagination2--ZhHyVJi.js";import{i as h}from"./index-DWa2gnuY.js";import{h as P}from"./moment-C5S46NFB.js";const A={key:0},G={key:1,class:"relative overflow-x-auto overflow-y-auto rounded-lg"},H={class:"w-full text-sm text-left rtl:text-right text-gray-700"},R={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap flex"},W=["href"],q={class:"px-6 py-4"},z={class:"px-6 py-4"},E={class:"px-6 py-4"},J=["onClick"],K=["onClick"],Q={class:"flex items-center justify-between bottom-1 fixed"},X={class:"mt-6 text-sm text-gray-500"},Z={class:"col-span-full"},ee={class:"col-span-full"},se={class:"col-span-full"},te={class:"col-span-full"},le={class:"flex mt-2 bg-[#fff7d1] shadow-lg rounded-lg justify-between"},oe={class:"flex"},ae={class:"p-3"},ne={class:"text-xl uppercase"},re={class:"text-sm"},ie={class:"p-3 flex"},de={class:"uppercase"},ye={__name:"ClientLists",props:["clients","search"],setup(c){const y=c,t=I({fname:null,mname:null,lname:null,sex:null}),d=C(!1),p=C(!1),S=a=>{t.reset(),t.client=a,t.fname=a.fname,t.mname=a.mname,t.lname=a.lname,t.sex=a.sex,d.value=!d.value},M=()=>{t.post(route("client.update",{client:t.client}),{preserveScroll:!0,onSuccess:()=>{t.reset(),h.success("Client has been successfully updated!",{autoClose:1e3,transition:h.TRANSITIONS.FLIP,position:h.POSITION.TOP_RIGHT}),t.reset(),d.value=!d.value}})},T=a=>{t.client=a,p.value=!p.value},F=a=>P(a).format("MMMM Do YYYY, h:mm:ss a");return(a,e)=>(u(),m(k,null,[c.clients.data.length==0?(u(),m("div",A,e[8]||(e[8]=[s("p",{class:"text-center font-bold text-[5vmin] mt-12"}," No Clients! ",-1)]))):(u(),m("div",G,[s("table",H,[e[9]||(e[9]=s("thead",{class:"text-xs text-white uppercase bg-yellow-500"},[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3"}," Client Name "),s("th",{scope:"col",class:"px-6 py-3"}," Gender "),s("th",{scope:"col",class:"px-6 py-3"}," Date & Time "),s("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1)),s("tbody",null,[(u(!0),m(k,null,U(c.clients.data,(l,f)=>(u(),m("tr",{key:f,class:"odd:bg-white even:bg-gray-200 border-b"},[s("th",R,[s("a",{class:"hover:font-bold hover:underline",href:a.route("client.index_details",{client_id:l.id})},r(l.lname+", ")+r(l.fname+" ")+r(" "+!l.mname?l.mname:""),9,W)]),s("td",q,r(l.sex=="male"?"Male":"Female"),1),s("td",z,r(F(l.created_at)),1),s("td",E,[s("button",{onClick:v=>T(l),class:"bg-green-500 rounded-md p-1 mr-1"},[n($,{icon:"docs"})],8,J),a.$page.props.auth.user.user_type=="root"||a.$page.props.auth.user.user_type=="admin"||a.$page.props.auth.user.user_type=="vcsas"||a.$page.props.auth.user.user_type=="director"||a.$page.props.auth.user.user_type=="unit_head"?(u(),m("button",{key:0,onClick:v=>S(l),class:"bg-orange-500 rounded-md p-1 mr-1"},[n($,{icon:"pencil"})],8,K)):B("",!0)])]))),128))])])])),s("div",Q,[n(L,{links:y.clients.links,search:y.search},null,8,["links","search"]),s("p",X," Showing "+r(c.clients.data.length)+" Clients ",1)]),n(V,{show:d.value,onClose:e[5]||(e[5]=l=>d.value=!1),maxWidth:"2xl"},{title:i(()=>e[10]||(e[10]=[x("Update Client here!")])),content:i(()=>[s("div",Z,[n(_,{type:"text",label:"Client First Name",modelValue:o(t).fname,"onUpdate:modelValue":e[0]||(e[0]=l=>o(t).fname=l)},null,8,["modelValue"]),n(g,{message:o(t).errors.fname,class:"mt-2"},null,8,["message"])]),s("div",ee,[n(_,{type:"text",label:"Client Middle Name",modelValue:o(t).mname,"onUpdate:modelValue":e[1]||(e[1]=l=>o(t).mname=l)},null,8,["modelValue"])]),s("div",se,[n(_,{type:"text",label:"Client Surname",modelValue:o(t).lname,"onUpdate:modelValue":e[2]||(e[2]=l=>o(t).lname=l)},null,8,["modelValue"]),n(g,{message:o(t).errors.lname,class:"mt-2"},null,8,["message"])]),s("div",te,[D(s("select",{class:"border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5 w-full","onUpdate:modelValue":e[3]||(e[3]=l=>o(t).sex=l)},e[11]||(e[11]=[s("option",{value:null,disabled:""},"Select Client Sex",-1),s("option",{value:"male"},"Male",-1),s("option",{value:"female"},"Female",-1)]),512),[[O,o(t).sex]]),n(g,{message:o(t).errors.sex,class:"mt-2"},null,8,["message"])])]),footer:i(()=>[n(N,{onClick:e[4]||(e[4]=l=>d.value=!1),class:"mr-2 hover:bg-red-500"},{default:i(()=>e[12]||(e[12]=[x(" Cancel ")])),_:1}),n(j,{class:Y([{"opacity-25":o(t).processing},"hover:bg-green-300"]),disabled:o(t).processing,onClick:M},{default:i(()=>e[13]||(e[13]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),x(" Update ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),n(V,{show:p.value,onClose:e[7]||(e[7]=l=>p.value=!1),maxWidth:"6xl"},{title:i(()=>{var l,f,v,b,w;return[s("div",le,[s("div",oe,[e[14]||(e[14]=s("p",{class:"border-r-2 p-3"}," Name: ",-1)),s("div",ae,[s("p",ne,r(((l=o(t).client)==null?void 0:l.lname)+", "),1),s("p",re,r(((f=o(t).client)==null?void 0:f.fname)+" "+((v=o(t).client)!=null&&v.mname?(b=o(t).client)==null?void 0:b.mname:"")),1)])]),s("div",ie,[e[15]||(e[15]=s("p",null," Sex: ",-1)),s("p",de,"   "+r((w=o(t).client)==null?void 0:w.sex),1)])])]}),content:i(()=>e[16]||(e[16]=[])),footer:i(()=>[n(N,{onClick:e[6]||(e[6]=l=>p.value=!1),class:"mr-2 hover:bg-red-500"},{default:i(()=>e[17]||(e[17]=[x(" Close ")])),_:1})]),_:1},8,["show"])],64))}};export{ye as default};
